{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Response interceptor для обработки ошибок\napiClient.interceptors.response.use(response => response, error => {\n  var _error$response, _error$response$data;\n  if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.error) {\n    return Promise.reject(new Error(error.response.data.error));\n  }\n  return Promise.reject(error);\n});\nexport const chatApi = {\n  // Создание нового чата\n  createChat: async data => {\n    const response = await apiClient.post('/chat/', data);\n    return response.data;\n  },\n  // Получение чата по ID\n  getChat: async chatId => {\n    const response = await apiClient.get(`/chat/${chatId}/`);\n    return response.data;\n  },\n  // Создание сообщения в чате\n  createMessage: async (chatId, data) => {\n    const response = await apiClient.post(`/chat/${chatId}/messages`, data);\n    return response.data;\n  },\n  // Получение сообщений чата\n  getChatMessages: async chatId => {\n    const response = await apiClient.get(`/chat/${chatId}/messages`);\n    return response.data;\n  }\n};\nexport default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","headers","interceptors","response","use","error","_error$response","_error$response$data","data","Promise","reject","Error","chatApi","createChat","post","getChat","chatId","get","createMessage","getChatMessages"],"sources":["D:/Dev/kafka_2/frontend/src/api/client.ts"],"sourcesContent":["import axios, { AxiosResponse } from 'axios';\r\nimport {\r\n  ChatResponse,\r\n  CreateChatRequest,\r\n  AddMessageRequest,\r\n  CreatedMessageResponse,\r\n  ChatMessagesResponse,\r\n  ApiError\r\n} from '../types/api';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Response interceptor для обработки ошибок\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.data?.error) {\r\n      return Promise.reject(new Error(error.response.data.error));\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const chatApi = {\r\n  // Создание нового чата\r\n  createChat: async (data: CreateChatRequest): Promise<ChatResponse> => {\r\n    const response: AxiosResponse<ChatResponse> = await apiClient.post('/chat/', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Получение чата по ID\r\n  getChat: async (chatId: string): Promise<ChatResponse> => {\r\n    const response: AxiosResponse<ChatResponse> = await apiClient.get(`/chat/${chatId}/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Создание сообщения в чате\r\n  createMessage: async (chatId: string, data: AddMessageRequest): Promise<CreatedMessageResponse> => {\r\n    const response: AxiosResponse<CreatedMessageResponse> = await apiClient.post(`/chat/${chatId}/messages`, data);\r\n    return response.data;\r\n  },\r\n\r\n  // Получение сообщений чата\r\n  getChatMessages: async (chatId: string): Promise<ChatMessagesResponse> => {\r\n    const response: AxiosResponse<ChatMessagesResponse> = await apiClient.get(`/chat/${chatId}/messages`);\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default apiClient;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAyB,OAAO;AAU5C,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,MAAMC,SAAS,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC7BC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAH,SAAS,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CAChCD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;EAAA,IAAAC,eAAA,EAAAC,oBAAA;EACT,KAAAD,eAAA,GAAID,KAAK,CAACF,QAAQ,cAAAG,eAAA,gBAAAC,oBAAA,GAAdD,eAAA,CAAgBE,IAAI,cAAAD,oBAAA,eAApBA,oBAAA,CAAsBF,KAAK,EAAE;IAC/B,OAAOI,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAACN,KAAK,CAACF,QAAQ,CAACK,IAAI,CAACH,KAAK,CAAC,CAAC;EAC7D;EACA,OAAOI,OAAO,CAACC,MAAM,CAACL,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,OAAO,MAAMO,OAAO,GAAG;EACrB;EACAC,UAAU,EAAE,MAAOL,IAAuB,IAA4B;IACpE,MAAML,QAAqC,GAAG,MAAML,SAAS,CAACgB,IAAI,CAAC,QAAQ,EAAEN,IAAI,CAAC;IAClF,OAAOL,QAAQ,CAACK,IAAI;EACtB,CAAC;EAED;EACAO,OAAO,EAAE,MAAOC,MAAc,IAA4B;IACxD,MAAMb,QAAqC,GAAG,MAAML,SAAS,CAACmB,GAAG,CAAC,SAASD,MAAM,GAAG,CAAC;IACrF,OAAOb,QAAQ,CAACK,IAAI;EACtB,CAAC;EAED;EACAU,aAAa,EAAE,MAAAA,CAAOF,MAAc,EAAER,IAAuB,KAAsC;IACjG,MAAML,QAA+C,GAAG,MAAML,SAAS,CAACgB,IAAI,CAAC,SAASE,MAAM,WAAW,EAAER,IAAI,CAAC;IAC9G,OAAOL,QAAQ,CAACK,IAAI;EACtB,CAAC;EAED;EACAW,eAAe,EAAE,MAAOH,MAAc,IAAoC;IACxE,MAAMb,QAA6C,GAAG,MAAML,SAAS,CAACmB,GAAG,CAAC,SAASD,MAAM,WAAW,CAAC;IACrG,OAAOb,QAAQ,CAACK,IAAI;EACtB;AACF,CAAC;AAED,eAAeV,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}