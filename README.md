# Чат-проект (DDD/EDD Architecture)

## Обзор проекта

Этот проект представляет собой приложение чата с использованием React для фронтенда и FastAPI для бэкенда, построенное на принципах Domain-Driven Design (DDD) и Event-Driven Architecture (EDD).

## Структура проекта

- `/backend` - FastAPI бэкенд приложение.
- `/frontend` - React фронтенд приложение.

## Предварительные требования

1. **Node.js** версии 16 или выше
2. **Python** 3.9+ с зависимостями 
3. **Запущенный FastAPI сервер** локально на порту 8000 (по умолчанию)

## Запуск проекта

### 1. Запуск Backend

Перейдите в папку бэкенда и запустите FastAPI сервер:

```bash
cd backend
python main.py
# или
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

*Убедитесь, что виртуальное окружение активировано и зависимости установлены.*

### 2. Запуск Frontend

Перейдите в папку `frontend` и запустите React приложение:

```bash
cd frontend
npm install
npm start
```

### 3. Проверка интеграции

1. Откройте браузер и перейдите на `http://localhost:3000`
2. Создайте новый чат и отправьте сообщение для проверки связи с бэкендом.

## API Endpoints

Основные эндпоинты API:

| Метод | Endpoint | Описание |
|-------|----------|----------|
| POST | `/chat/` | Создание нового чата |
| GET | `/chat/{chat_id}/` | Получение информации о чате |
| POST | `/chat/{chat_id}/messages` | Отправка сообщения |
| GET | `/chat/{chat_id}/messages` | Получение сообщений в чате |

## CORS настройки

При локальной разработке бэкенд разрешает запросы с `http://localhost:3000`. Если у вас другой порт фронтенда, обновите `allow_origins` в настройках `CORSMiddleware` (обычно в `main.py`).

## Разработка

### Добавление новых функций

1. **Backend**: Реализуйте слой домена, use case и добавьте эндпоинт в FastAPI.
2. **Frontend**: Обновите типы в `types/api.ts`.
3. **Frontend**: Добавьте метод API-клиента в `api/client.ts`.
4. **Frontend**: Создайте/измените React-компоненты.

## Продакшн

Для продакшн развертывания:
1. Выполните `npm run build` в папке frontend.
2. Настройте CORS на бэкенде для публичного домена.
3. Разверните с использованием Nginx/Docker или облачных платформ (Vercel, Railway, Heroku и т.д.).
